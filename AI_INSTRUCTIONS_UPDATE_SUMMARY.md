# AI 編程指令更新總結

## 更新概覽

已成功完成 `.github/copilot-instructions.md` 檔案的全面更新，將其轉換為一份完整的 AI 編程助手指南，反映當前程式碼庫的架構和慣例。

## 主要更新內容

### 1. 專案概覽重新整理

- 明確定義為基於 Pygame 的 2D 跑酷射擊遊戲
- 強調元素屬性系統和嚴格模組化架構
- 更新專案核心特色描述

### 2. 核心架構設計

- **模組化結構**: 詳細說明 `src/` 目錄結構和職責分工
- **執行方式**: 支援雙重導入模式（模組模式和直接執行）
- **管理器模式**: 明確定義更新順序的重要性，防止狀態不一致

### 3. 遊戲平衡與難度配置（新增）

- 記錄最新的難度調整參數
- 動態難度調整模式說明
- 配置集中化原則，所有數值調整都在 `config.py` 中

### 4. 管理器通信模式

- 數據傳遞慣例：通過字典返回值通信
- 特殊系統整合：Boss 火焰子彈系統、必殺技系統、30 層跑酷系統
- 具體程式碼範例和更新順序要求

### 5. 開發者工作流程

- 推薦執行命令和啟動腳本
- 碰撞檢測架構：多個獨立碰撞系統的分離原則
- 具體執行指令和除錯方式

### 6. 專案特定慣例

- **導入模式**: 雙重導入模式的標準實作
- **字體系統**: `get_chinese_font(size)` 函數與繁體中文支援
- **攝影機系統**: 所有 draw 方法的攝影機偏移處理
- **怪物 AI 與投射物**: 獨立投射物系統和平台邊界檢測

### 7. 常見開發任務

- **平衡調整模式**: 怪物數值、生成頻率、關卡難度、Boss 強度
- **新增怪物**: 完整的新增流程步驟
- **新增狀態效果**: 元素系統整合方式

### 8. 常見問題與調試

- **模組導入錯誤**: 正確的執行方式
- **字體顯示問題**: 中文字體處理
- **碰撞與顯示問題**: 座標系統和攝影機偏移
- **怪物投射物系統**: 獨立投射物管理
- **性能與平衡**: 數量控制和時間限制

## 技術重點

### 元素屬性系統集中化

- 所有元素相關邏輯都集中於 `src/core/element_system.py`
- 統一的 API 設計和使用模式
- 傷害計算和狀態效果的標準流程

### 管理器模式與更新順序

- 嚴格的更新順序要求，防止狀態不一致
- 每個複雜系統都有專用管理器
- 明確的職責分工和通信模式

### 雙重導入系統

- 支援模組模式和直接執行
- 所有檔案使用 try/except ImportError 模式
- 提升開發靈活性和部署便利性

## 程式碼品質保證

### 註解風格統一

- 統一使用繁體中文撰寫註解
- 所有 public 方法需完整 docstring
- 區塊註解使用 `######################` 分隔符

### 命名規則一致

- 變數/函式：snake_case
- 類別：PascalCase
- 常數：UPPER_SNAKE_CASE

### 程式結構標準化

- 明確的區塊組織
- 4 個空格縮排
- 不使用 `if __name__ == "__main__":` 慣例

## 後續維護建議

1. **定期更新**: 當核心架構變更時，同步更新此指引
2. **範例補充**: 持續新增具體的程式碼範例
3. **問題追蹤**: 記錄新發現的常見問題和解決方案
4. **版本控制**: 重大架構變更時標記版本號

## 檔案狀態

- **檔案路徑**: `.github/copilot-instructions.md`
- **更新狀態**: ✅ 完成
- **內容完整性**: ✅ 已驗證
- **格式正確性**: ✅ 已確認
- **技術準確性**: ✅ 反映當前程式碼庫

---

**總結**: AI 編程指令檔案已成功更新為完整的開發指南，涵蓋專案架構、開發慣例、調試方法和最佳實踐。此文件將大幅提升 AI 編程助手對專案的理解能力和程式碼品質。
